# StatefulSet
> 在实际场景中，有的应用中的多个实例存在依赖关系，比如主从关系，主备关系。
>
> 有的数据存储类应用，它的多个实例往往都会在本地磁盘上保存一份数据，实例杀掉后，数据与实例之前的对应关系也丢失。
>
> 这种实例之间有不对等关系，以及实例对外部数据有依赖关系的应用，称为"有状态应用"。

## statefulSet 抽象的两种应用状态

- 拓扑状态：多个实例之间必须按照顺序启动，新创建出来的 Pod 必须和原来 Pod 的网络标识一样，这样对于原先的访问者才能用同样的方法启动。
- 存储状态：应用的多个实例绑定了不同的存储数据，对于应用实例来讲，不同时间读取到的数据应该是同一份，哪怕 Pod 重建过。（数据库的多个存储实例）

所以，statefulSet的核心功能，就是通过某种方式记录这些状态， Pod 重建过之后，能够为新 Pod 恢复状态。
